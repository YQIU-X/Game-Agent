# æ¸¸æˆä»£ç†å¹³å° - æ™ºèƒ½è®­ç»ƒå®éªŒç®¡ç†ç³»ç»Ÿ

## ğŸ“š å‚è€ƒé¡¹ç›®

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®æ„å»ºï¼š

- **[Super Mario Bros DQN](https://github.com/roclark/super-mario-bros-dqn)** - ä½¿ç”¨PyTorchè®­ç»ƒçš„DQNæ¨¡å‹æ¥é€šå…³è¶…çº§é©¬é‡Œå¥¥å…„å¼Ÿ
- **[Super Mario RL](https://github.com/jiseongHAN/Super-Mario-RL)** - åŸºäºå¼ºåŒ–å­¦ä¹ çš„è¶…çº§é©¬é‡Œå¥¥æ¸¸æˆä»£ç†

æ„Ÿè°¢è¿™äº›é¡¹ç›®çš„å¼€æºè´¡çŒ®ï¼Œä¸ºæˆ‘ä»¬çš„æ¸¸æˆä»£ç†å¹³å°æä¾›äº†é‡è¦çš„æŠ€æœ¯åŸºç¡€ã€‚

## ç™»å½•
```javascript
// æ¨¡æ‹Ÿç”¨æˆ·æ•°æ®
const users = [
  { username: 'developer', password: 'dev123', role: 'developer' },
  { username: 'player', password: 'play123', role: 'player' }
];
```

## ç¯å¢ƒ
```bash
conda create -n [env name] python=3.8
conda activate [env name]
pip install -r requirement.txt
```


## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ **æ™ºèƒ½å®éªŒç®¡ç†**
- **ç»“æ„åŒ–å­˜å‚¨**: æŒ‰ç¯å¢ƒã€ç®—æ³•ã€è¶…å‚æ•°è‡ªåŠ¨ç»„ç»‡è®­ç»ƒå®éªŒ
- **å®Œæ•´è®°å½•**: æ¯ä¸ªå®éªŒåŒ…å«é…ç½®ã€æŒ‡æ ‡ã€æ—¥å¿—ã€æƒé‡ç­‰æ‰€æœ‰æ–‡ä»¶
- **æ˜“äºæ¯”è¾ƒ**: è½»æ¾å¯¹æ¯”ä¸åŒè¶…å‚æ•°è®¾ç½®çš„æ•ˆæœ
- **å‘åå…¼å®¹**: æ”¯æŒæ—§æ ¼å¼æ–‡ä»¶ï¼Œå¹³æ»‘è¿ç§»

### ğŸš€ **å¤šç®—æ³•æ”¯æŒ**
- **DQN**: æ·±åº¦Qç½‘ç»œï¼Œé€‚åˆç¦»æ•£åŠ¨ä½œç©ºé—´
- **PPO**: è¿‘ç«¯ç­–ç•¥ä¼˜åŒ–ï¼Œé€‚åˆè¿ç»­å’Œç¦»æ•£åŠ¨ä½œç©ºé—´
- **A2C**: ä¼˜åŠ¿æ¼”å‘˜è¯„è®ºå®¶ï¼Œé€‚åˆç­–ç•¥æ¢¯åº¦æ–¹æ³•

### ğŸ® **å¤šæ¸¸æˆç¯å¢ƒ**
- **Super Mario Bros**: ç»å…¸å¹³å°æ¸¸æˆ
- **Atari Games**: ç»å…¸è¡—æœºæ¸¸æˆ
- **å¯æ‰©å±•**: æ˜“äºæ·»åŠ æ–°æ¸¸æˆç±»å‹

## ğŸ“ é¡¹ç›®ç»“æ„

```
game-agent-platform/
â”œâ”€â”€ ğŸ“ experiments/               # ğŸ†• æ™ºèƒ½å®éªŒç®¡ç†ç³»ç»Ÿ
â”‚   â”œâ”€â”€ ğŸ“ {environment}/        # ç¯å¢ƒç›®å½• (å¦‚: SuperMarioBros-1-1-v0)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ {algorithm}/      # ç®—æ³•ç›®å½• (å¦‚: DQN)
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ {session_id}/ # è®­ç»ƒä¼šè¯ç›®å½• (å¦‚: 20241225_143022_lr1e4_gamma99)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ config.json  # è®­ç»ƒé…ç½®å‚æ•°
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metrics.csv  # è®­ç»ƒæŒ‡æ ‡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ logs.txt     # è®­ç»ƒæ—¥å¿—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ weights/     # æƒé‡æ–‡ä»¶ç›®å½•
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ best_model.pth      # æœ€ä½³æ¨¡å‹
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ checkpoint_100.pth  # æ£€æŸ¥ç‚¹
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ final_model.pth     # æœ€ç»ˆæ¨¡å‹
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ metadata.json # å…ƒæ•°æ®ä¿¡æ¯
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸ“ python/                   # Pythonåç«¯ä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ scripts/              # å¯æ‰§è¡Œè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ agent_inference.py   # æ™ºèƒ½ä½“æ¨ç†è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ player_control.py    # ç©å®¶æ§åˆ¶è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ train_dqn.py         # DQNè®­ç»ƒè„šæœ¬
â”‚   â”‚   â””â”€â”€ train_ppo.py         # PPOè®­ç»ƒè„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“ algorithms/           # ç®—æ³•å®ç°
â”‚   â”‚   â”œâ”€â”€ ğŸ“ dqn/             # DQNç®—æ³•
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ core/        # æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ trainer.py      # è®­ç»ƒå™¨
â”‚   â”‚   â””â”€â”€ ğŸ“ ppo/             # PPOç®—æ³•
â”‚   â”œâ”€â”€ ğŸ“ games/               # æ¸¸æˆç¯å¢ƒ
â”‚   â”‚   â”œâ”€â”€ ğŸ“ mario/           # Marioæ¸¸æˆ
â”‚   â”‚   â””â”€â”€ ğŸ“ atari/           # Atariæ¸¸æˆ
â”‚   â”œâ”€â”€ ğŸ“ utils/               # å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ experiment_manager.py # ğŸ†• å®éªŒç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ model_factory.py    # æ¨¡å‹å·¥å‚
â”‚   â”‚   â”œâ”€â”€ environment_factory.py # ç¯å¢ƒå·¥å‚
â”‚   â”‚   â””â”€â”€ weight_detector.py  # æƒé‡æ£€æµ‹å™¨
â”‚   â”œâ”€â”€ ğŸ“ configs/             # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ algorithm_configs.py # ç®—æ³•é…ç½®
â”‚   â”‚   â””â”€â”€ config.py           # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ models/              # æ¨¡å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ base.py             # åŸºç¡€æ¨¡å‹ç±»
â”‚   â”‚   â”œâ”€â”€ cnndqn.py          # CNN DQNæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ cnnppo.py          # CNN PPOæ¨¡å‹
â”‚   â”‚   â””â”€â”€ cnna2c.py          # CNN A2Cæ¨¡å‹
â”‚   â”œâ”€â”€ ğŸ“ environments/        # ç¯å¢ƒå®šä¹‰
â”‚   â”‚   â”œâ”€â”€ base.py             # åŸºç¡€ç¯å¢ƒç±»
â”‚   â”‚   â”œâ”€â”€ mario.py            # Marioç¯å¢ƒ
â”‚   â”‚   â””â”€â”€ atari.py            # Atariç¯å¢ƒ
â”‚   â””â”€â”€ ğŸ“ wrappers/            # ç¯å¢ƒåŒ…è£…å™¨
â”‚       â”œâ”€â”€ base_wrapper.py     # åŸºç¡€åŒ…è£…å™¨ç±»
â”‚       â”œâ”€â”€ mario_wrappers.py   # Marioæ¸¸æˆåŒ…è£…å™¨
â”‚       â””â”€â”€ atari_wrappers.py   # Atariæ¸¸æˆåŒ…è£…å™¨
â”œâ”€â”€ ğŸ“ pretrained_models/       # é¢„è®­ç»ƒæ¨¡å‹ (å‘åå…¼å®¹)
â”‚   â”œâ”€â”€ ğŸ“ mario/              # Marioæ¸¸æˆæ¨¡å‹
â”‚   â”‚   â””â”€â”€ ğŸ“ dqn/           # DQNç®—æ³•æ¨¡å‹
â”‚   â””â”€â”€ ğŸ“ atari/              # Atariæ¸¸æˆæ¨¡å‹
â”œâ”€â”€ ğŸ“ training_metrics/        # è®­ç»ƒæŒ‡æ ‡ (å‘åå…¼å®¹)
â”œâ”€â”€ ğŸ“ src/                     # Vue.jså‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ api/                # APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ ğŸ“ components/         # Vueç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“ services/           # æœåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ ğŸ“ views/              # é¡µé¢è§†å›¾
â”‚   â”‚   â”œâ”€â”€ Developer.vue      # å¼€å‘è€…ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ Player.vue         # ç©å®¶ç•Œé¢
â”‚   â”‚   â””â”€â”€ Login.vue          # ç™»å½•ç•Œé¢
â”‚   â””â”€â”€ ğŸ“ router/             # è·¯ç”±é…ç½®
â”œâ”€â”€ ğŸ“ public/                  # é™æ€èµ„æº
â”œâ”€â”€ server.js                   # Node.jsæœåŠ¡å™¨
â”œâ”€â”€ package.json                # Node.jsä¾èµ–
â””â”€â”€ requirements.txt            # Pythonä¾èµ–
```

## ğŸ¯ è®¾è®¡åŸåˆ™

### 1. **æ™ºèƒ½å®éªŒç®¡ç†** ğŸ†•
- **ç»“æ„åŒ–å­˜å‚¨**: æŒ‰ç¯å¢ƒã€ç®—æ³•ã€è¶…å‚æ•°è‡ªåŠ¨ç»„ç»‡è®­ç»ƒå®éªŒ
- **å®Œæ•´è®°å½•**: æ¯ä¸ªå®éªŒåŒ…å«é…ç½®ã€æŒ‡æ ‡ã€æ—¥å¿—ã€æƒé‡ç­‰æ‰€æœ‰æ–‡ä»¶
- **æ˜“äºæ¯”è¾ƒ**: è½»æ¾å¯¹æ¯”ä¸åŒè¶…å‚æ•°è®¾ç½®çš„æ•ˆæœ
- **å‘åå…¼å®¹**: æ”¯æŒæ—§æ ¼å¼æ–‡ä»¶ï¼Œå¹³æ»‘è¿ç§»

### 2. **æ¨¡å—åŒ–è®¾è®¡**
- **è„šæœ¬æ¨¡å—** (`python/scripts/`): ç‹¬ç«‹çš„å¯æ‰§è¡Œè„šæœ¬
- **ç®—æ³•æ¨¡å—** (`python/algorithms/`): æŒ‰ç®—æ³•ç±»å‹ç»„ç»‡
- **æ¸¸æˆæ¨¡å—** (`python/games/`): æŒ‰æ¸¸æˆç±»å‹ç»„ç»‡
- **å·¥å…·æ¨¡å—** (`python/utils/`): é€šç”¨å·¥å…·å’Œå·¥å‚ç±»
- **é…ç½®æ¨¡å—** (`python/configs/`): é›†ä¸­é…ç½®ç®¡ç†

### 3. **å®éªŒç›®å½•ç»“æ„** ğŸ†•
```
experiments/
â”œâ”€â”€ {environment}/                    # ç¯å¢ƒç›®å½•
â”‚   â”œâ”€â”€ {algorithm}/                  # ç®—æ³•ç›®å½•
â”‚   â”‚   â”œâ”€â”€ {session_id}/             # è®­ç»ƒä¼šè¯ç›®å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ config.json           # è®­ç»ƒé…ç½®å‚æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ metrics.csv           # è®­ç»ƒæŒ‡æ ‡
â”‚   â”‚   â”‚   â”œâ”€â”€ logs.txt              # è®­ç»ƒæ—¥å¿—
â”‚   â”‚   â”‚   â”œâ”€â”€ weights/              # æƒé‡æ–‡ä»¶ç›®å½•
â”‚   â”‚   â”‚   â””â”€â”€ metadata.json         # å…ƒæ•°æ®ä¿¡æ¯
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```

### 4. **ä¼šè¯IDç”Ÿæˆè§„åˆ™** ğŸ†•
- **æ ¼å¼**: `{timestamp}_{key_params}`
- **ç¤ºä¾‹**: `20241225_143022_lr1e4_gamma99_eps1e4`
- **ä¼˜åŠ¿**: ä»æ–‡ä»¶åå°±èƒ½çœ‹å‡ºè®­ç»ƒå‚æ•°å’Œæ—¶é—´

## ğŸ”§ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°æ¸¸æˆç±»å‹
1. åœ¨ `python/games/` åˆ›å»ºæ–°æ¸¸æˆç›®å½•
2. åœ¨ `python/environments/` åˆ›å»ºæ–°ç¯å¢ƒç±»
3. åœ¨ `python/wrappers/` åˆ›å»ºä¸“ç”¨åŒ…è£…å™¨
4. åœ¨ `python/configs/` æ·»åŠ é…ç½®
5. åœ¨ `experiments/` åˆ›å»ºå¯¹åº”ç›®å½•ç»“æ„

### æ·»åŠ æ–°ç®—æ³•
1. åœ¨ `python/algorithms/` åˆ›å»ºæ–°ç®—æ³•ç›®å½•
2. åœ¨ `python/models/` åˆ›å»ºæ–°æ¨¡å‹ç±»
3. åœ¨ `python/configs/` æ·»åŠ ç®—æ³•é…ç½®
4. æ›´æ–°å®éªŒç®¡ç†å™¨ä»¥æ”¯æŒæ–°ç®—æ³•

### æ·»åŠ æ–°æ¨¡å‹æ–‡ä»¶
1. **æ–°æ ¼å¼**: å°†æ¨¡å‹æ–‡ä»¶æ”¾å…¥å¯¹åº”çš„ `experiments/{env}/{alg}/{session}/weights/` ç›®å½•
2. **æ—§æ ¼å¼**: å°†æ¨¡å‹æ–‡ä»¶æ”¾å…¥å¯¹åº”çš„ `pretrained_models/{game}/{algorithm}/` ç›®å½•
3. æ›´æ–° `python/utils/weight_detector.py` ä»¥æ”¯æŒæ–°æ ¼å¼
4. æµ‹è¯•æ¨¡å‹åŠ è½½å’Œæ¨ç†

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### å¯åŠ¨æœåŠ¡å™¨
```bash
npm run serve
```

### å¼€å§‹è®­ç»ƒå®éªŒ ğŸ†•
```bash
# DQNè®­ç»ƒ - è‡ªåŠ¨åˆ›å»ºå®éªŒç›®å½•
python python/scripts/train_dqn.py --environment SuperMarioBros-1-1-v0 --episodes 1000

# PPOè®­ç»ƒ - è‡ªåŠ¨åˆ›å»ºå®éªŒç›®å½•
python python/scripts/train_ppo.py --environment SuperMarioBros-1-1-v0 --episodes 1000
```

### è¿è¡ŒPythonè„šæœ¬
```bash
# æ™ºèƒ½ä½“æ¨ç† - æ”¯æŒæ–°å®éªŒç›®å½•
python python/scripts/agent_inference.py --env SuperMarioBros-1-1-v0 --weights experiments/SuperMarioBros-1-1-v0/DQN/20241225_143022_lr1e4_gamma99/weights/best_model.pth

# ç©å®¶æ§åˆ¶
python python/scripts/player_control.py --env SuperMarioBros-1-1-v0 --action-space SIMPLE
```

### å®éªŒç®¡ç† ğŸ†•
```python
from python.utils.experiment_manager import experiment_manager

# åˆ—å‡ºæ‰€æœ‰å®éªŒ
experiments = experiment_manager.list_experiments()

# è·å–æœ€æ–°å®éªŒ
latest = experiment_manager.get_latest_experiment('SuperMarioBros-1-1-v0', 'DQN')

# æ¸…ç†æ—§å®éªŒ
experiment_manager.cleanup_old_experiments(keep_count=10)
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ç¯å¢ƒä¸€è‡´æ€§**: ç¡®ä¿æ¨ç†ç¯å¢ƒä¸è®­ç»ƒç¯å¢ƒå®Œå…¨ä¸€è‡´
2. **æ¨¡å‹å…¼å®¹æ€§**: ä¸åŒç®—æ³•çš„æ¨¡å‹ä¸èƒ½æ··ç”¨
3. **æ–‡ä»¶è·¯å¾„**: ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œç¡®ä¿è·¨å¹³å°å…¼å®¹
4. **ä¾èµ–ç®¡ç†**: ä¿æŒPythonå’ŒNode.jsä¾èµ–çš„åŒæ­¥æ›´æ–°
5. **å®éªŒç®¡ç†** ğŸ†•: å®šæœŸæ¸…ç†æ—§å®éªŒï¼Œé¿å…ç£ç›˜ç©ºé—´ä¸è¶³
6. **å‘åå…¼å®¹**: ç³»ç»ŸåŒæ—¶æ”¯æŒæ–°æ—§æ–‡ä»¶æ ¼å¼ï¼Œæ— éœ€æ‰‹åŠ¨è¿ç§»

## ğŸ‰ æ–°åŠŸèƒ½äº®ç‚¹

### ğŸ†• **æ™ºèƒ½å®éªŒç®¡ç†ç³»ç»Ÿ**
- **è‡ªåŠ¨ç»„ç»‡**: è®­ç»ƒå¼€å§‹æ—¶è‡ªåŠ¨åˆ›å»ºç»“æ„åŒ–ç›®å½•
- **å®Œæ•´è®°å½•**: é…ç½®ã€æŒ‡æ ‡ã€æ—¥å¿—ã€æƒé‡ç»Ÿä¸€ç®¡ç†
- **æ˜“äºæ¯”è¾ƒ**: ä»æ–‡ä»¶åå°±èƒ½çœ‹å‡ºè®­ç»ƒå‚æ•°
- **å‘åå…¼å®¹**: æ”¯æŒæ—§æ ¼å¼æ–‡ä»¶ï¼Œå¹³æ»‘è¿ç§»

### ğŸ†• **å¢å¼ºçš„å‰ç«¯ç•Œé¢**
- **è®­ç»ƒå¯è§†åŒ–**: è‡ªåŠ¨æ£€æµ‹å’Œæ˜¾ç¤ºæœ€æ–°è®­ç»ƒè®°å½•
- **æ¨¡å‹é€‰æ‹©**: æ”¯æŒå®éªŒç›®å½•ä¸­çš„æ¨¡å‹æ–‡ä»¶
- **å‚æ•°é…ç½®**: å¯ç¼–è¾‘çš„ä»£ç ç¼–è¾‘å™¨ï¼Œæ”¯æŒè¯­æ³•é«˜äº®
- **å®æ—¶æ›´æ–°**: è®­ç»ƒè¿‡ç¨‹ä¸­è‡ªåŠ¨æ›´æ–°å¯è§†åŒ–å›¾è¡¨

### ğŸ†• **æ”¹è¿›çš„APIæ¥å£**
- **å®éªŒåˆ—è¡¨**: è·å–æ‰€æœ‰è®­ç»ƒå®éªŒçš„è¯¦ç»†ä¿¡æ¯
- **æ–‡ä»¶ç®¡ç†**: æ”¯æŒæ–°æ—§æ–‡ä»¶æ ¼å¼çš„ç»Ÿä¸€ç®¡ç†
- **æ¨¡å‹æ£€æµ‹**: è‡ªåŠ¨è¯†åˆ«å’Œåˆ†ç±»ä¸åŒç±»å‹çš„æ¨¡å‹æ–‡ä»¶

## ğŸ”® æœªæ¥è§„åˆ’

- [ ] æ”¯æŒæ›´å¤šå¼ºåŒ–å­¦ä¹ ç®—æ³• (A3C, SAC, TD3ç­‰)
- [ ] æ·»åŠ å®éªŒå¯¹æ¯”åˆ†æåŠŸèƒ½
- [ ] å®ç°åˆ†å¸ƒå¼è®­ç»ƒæ”¯æŒ
- [ ] æ·»åŠ æ¨¡å‹æ€§èƒ½è¯„ä¼°å·¥å…·
- [ ] æ”¯æŒè¶…å‚æ•°è‡ªåŠ¨è°ƒä¼˜
